{"name": "[case01] 群文件下载", "status": "failed", "statusDetails": {"message": "AssertionError", "trace": "self = <test_publish.test_04_fileDownload.TestGroup object at 0x0000000004AC9390>\nstart_app = <appium.webdriver.webdriver.WebDriver (session=\"70622569-ad6a-4316-863b-3219cb086e19\")>\nreload_app = <appium.webdriver.webdriver.WebDriver (session=\"70622569-ad6a-4316-863b-3219cb086e19\")>\n\n    @allure.story('群文件下载')\n    @allure.title('[case01] 群文件下载')\n    def test_case01(self, start_app, reload_app):\n        contact = PubMethod.get_csv_data(6)\n    \n        with allure.step('1、搜素群'):\n            driver = start_app\n            base = Base(driver)\n            time.sleep(5)\n            base.click_btn(locator=(By.XPATH, \"//*[@text='搜索']\"))\n            base.send_key(locator=(By.XPATH, \"//*[@class ='android.widget.EditText' and @text='搜索']\"), value=contact[0])\n            time.sleep(3)\n            base.click_btn(locator=(By.XPATH, \"//*[@text='群']/../following-sibling::android.view.ViewGroup[1]/android.view.ViewGroup/android.view.ViewGroup[2]/android.widget.TextView\"))\n            result = PubMethod.is_ele(driver, \"//*[@text='发送']\")\n            print(\"进入群聊页的结果是：{}\".format(result))\n        with allure.step('2、验证是否进入群聊天页'):\n            AssertMethod.assert_true_screen_shot(driver, result)\n        with allure.step('3、进入群设置页，下载群文件'):\n            base.click_btn(locator=(By.XPATH, \"//*[@text='发送']/../../../android.view.ViewGroup[1]/android.view.ViewGroup/android.view.ViewGroup[2]/android.view.ViewGroup/android.widget.ImageView\"))\n            base.click_btn(locator=(By.XPATH, \"//*[@text='群文件']\"))\n            time.sleep(3)\n            ele = PubMethod.is_ele(driver, \"//*[contains(@text,'暂时没有')]\")\n            print(\"不存在群文件结果是：{}\".format(ele))\n        with allure.step('4、验证是否存在群文件'):\n            AssertMethod.assert_false_screen_shot(driver, ele)\n            base.click_btn(locator=(By.XPATH, \"//android.widget.TextView[@text='focustalk.apk']\"))\n            base.click_btn(locator=(By.XPATH, \"//android.widget.TextView[@text='focustalk.apk']\"))\n            result = PubMethod.is_ele(driver, \"//*[contains(@text,'正在下载')]\")\n            print(\"文件正在下载的结果是：{}\".format(result))\n            time.sleep(10)\n            result1 = PubMethod.is_ele(driver, \"//android.widget.TextView[@text='用其他应用打开']\")\n        with allure.step('5、验证文件是否下载成功'):\n>           AssertMethod.assert_true_screen_shot(driver, result1)\n\ntest_04_fileDownload.py:46: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\base\\assertMethod.py:18: in assert_true_screen_shot\n    raise e\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndriver = <appium.webdriver.webdriver.WebDriver (session=\"70622569-ad6a-4316-863b-3219cb086e19\")>\nbool_value = False\n\n    @staticmethod\n    def assert_true_screen_shot(driver, bool_value):\n        if not isinstance(bool_value, bool):\n            logging.error('bool_value参数类型错误，必须传bool类型：exceptor=Ture/False')\n        else:\n            logging.info(\"正在进行元素断言：断言方式->%s：是否等于True\" % bool_value)\n            try:\n>               assert bool_value is True\nE               AssertionError\n\n..\\base\\assertMethod.py:14: AssertionError"}, "steps": [{"name": "1、搜素群", "status": "passed", "start": 1665200177660, "stop": 1665200190744}, {"name": "2、验证是否进入群聊天页", "status": "passed", "start": 1665200190744, "stop": 1665200190744}, {"name": "3、进入群设置页，下载群文件", "status": "passed", "start": 1665200190744, "stop": 1665200201947}, {"name": "4、验证是否存在群文件", "status": "passed", "start": 1665200201947, "stop": 1665200224475}, {"name": "5、验证文件是否下载成功", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"D:\\app-ui-auto-test\\focustalk_android\\test_publish\\test_04_fileDownload.py\", line 46, in test_case01\n    AssertMethod.assert_true_screen_shot(driver, result1)\n  File \"D:\\app-ui-auto-test\\focustalk_android\\base\\assertMethod.py\", line 18, in assert_true_screen_shot\n    raise e\n  File \"D:\\app-ui-auto-test\\focustalk_android\\base\\assertMethod.py\", line 14, in assert_true_screen_shot\n    assert bool_value is True\n"}, "attachments": [{"source": "db710a63-b8dd-4fca-b4de-fd6a22bbf3c8-attachment.png", "type": "image/png"}], "start": 1665200224475, "stop": 1665200225216}], "attachments": [{"name": "log", "source": "dd2c7734-dfca-4b2f-beb1-215410a4178f-attachment.txt", "type": "text/plain"}], "start": 1665200177657, "stop": 1665200225217, "uuid": "48b0d965-d9d9-4af3-93b3-796137d88de9", "historyId": "4eb8c867ce46d2f64bd896f63b1822b7", "testCaseId": "cef1236274c44b6207459aab58f59971", "fullName": "test_publish.test_04_fileDownload.TestGroup#test_case01", "labels": [{"name": "story", "value": "群文件下载"}, {"name": "feature", "value": "群功能"}, {"name": "parentSuite", "value": "test_publish"}, {"name": "suite", "value": "test_04_fileDownload"}, {"name": "subSuite", "value": "TestGroup"}, {"name": "host", "value": "chenxueqing0724"}, {"name": "thread", "value": "7804-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_publish.test_04_fileDownload"}]}